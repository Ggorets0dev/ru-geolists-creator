# RuGeolistsCreator

üëâ [English version](README.en.md)

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏ —Å–ø–∏—Å–∫–æ–≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ XRay / SingBox VPN. –Ø–∑—ã–∫ CLI: **–ê–Ω–≥–ª–∏–π—Å–∫–∏–π**.

## –°–∏—Å—Ç–µ–º—ã —Å–±–æ—Ä–∫–∏ —Å–ø–∏—Å–∫–æ–≤

> **–ó–∞–º–µ—á–∞–Ω–∏–µ:** –î–ª—è —Ä–∞–±–æ—Ç—ã –ü–û, –∫–æ—Ç–æ—Ä–æ–µ —Å–æ–±–∏—Ä–∞–µ—Ç —Å–ø–∏—Å–∫–∏, —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Golang

–î–ª—è —Å–±–æ—Ä–∫–∏ —Å–ø–∏—Å–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –ü–û V2Ray:

* [v2fly/domain-list-community](https://github.com/v2fly/domain-list-community) (CC-BY-SA-4.0)

* [v2fly/geoip](https://github.com/v2fly/geoip) (MIT)

–î–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–µ–µ –ü–û:

* [Geo](https://github.com/MetaCubeX/geo) (GPL-3.0)

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–¥ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã:

| –°–∫—Ä–∏–ø—Ç                                              | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                 |
|:--------------------------------------------------- | ---------------------------------------------------------- |
| build.sh [--deps] [--appimg ][--type=Debug/Release] | –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏                 |
| prepare_appimage.sh [exec] [dir]                    | –°–±–æ—Ä–∫–∞ –ø–∞–∫–µ—Ç–∞ AppImage (–æ—Ç–¥–µ–ª—å–Ω–æ)                          |
| build_by_docker.sh                                  | –°–±–æ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –ø–∞–∫–µ—Ç–∞ AppImage —Å –ø–æ–º–æ—â—å—é docker –æ–±—Ä–∞–∑–∞ |

## –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ü–û

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ü–û —Å –ø–æ–º–æ—â—å—é —Ñ–ª–∞–≥–∞ ```--init```, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–∞: ```home/***/.config/ru-geolists-creator/config.json```. –í –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–Ω–∏—Ü–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω API –∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ GitHub (—É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤). –ö–ª—é—á –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –ø–æ–∑–¥–Ω–µ–µ –≤—Ä—É—á–Ω—É—é –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –ø–æ–ª–µ ```apiToken```. 

### –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–±–ª–∞–¥–∞–µ—Ç –≤—Å–µ–º–∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–º–∏ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –∫–ª—é—á–∞–º–∏, –Ω–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –º–∞—Å—Å–∏–≤—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ **(sources)** –∏ –ø—Ä–µ—Å–µ—Ç–æ–≤ **(presets)** –ø—É—Å—Ç—ã. 

```json
{
  "apiToken" : "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",
  "bgpDumpPath" : null,
  "dlcRootPath" : "/home/ggorets0/.local/lib/v2fly-dlc-toolchain",
  "geoMgrBinaryPath" : "/home/ggorets0/.local/lib/geo-linux-amd64",
  "presets" : [
      {
          "id": 1,
          "label": "client",
          "source_ids": [1, 2, 3]
      },
      {
          "id": 2,
          "label": "server",
          "source_ids": [1, 4]
      }
  ],
  "sources" : [
      {
          "id": 1,
          "storage_type": "file_loc",
          "inet_type": "domain",
          "url": "/home/user/RGLC/lists/gov.txt",
          "section": "gov"
      },
      {
            "id": 2,
            "section": "refilter",
            "storage_type": "github_release",
            "inet_type": "domain",
            "url": "https://github.com/1andrevich/Re-filter-lists",
            "assets": ["domains_all.lst"]
      },
      {
            "id": 3,
            "section": "refilter",
            "storage_type": "github_release",
            "inet_type": "ip",
            "url": "https://github.com/1andrevich/Re-filter-lists",
            "assets": ["ipsum.lst"]
      },
      {
            "id": 4,
            "storage_type": "file_loc",
            "inet_type": "domain",
            "section": "google",
            "url": "/home/user/RGLC/lists/google"
      }
  ],
  "v2ipRootPath" : "/home/ggorets0/.local/lib/v2fly-v2ip-toolchain",
  "whitelistPath" : null
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–µ—Å–µ—Ç–æ–≤/–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ—Å–µ—Ç—ã/–∏—Å—Ç–æ—á–Ω–∏–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é —Å –ø–æ–º–æ—â—å—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –î–∞–ª–µ–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞, –ø—Ä–∏—Å—É—â–∏–µ —Ç–∞–∫–æ–º—É –ø—Ä–µ—Å–µ—Ç—É/–∏—Å—Ç–æ—á–Ω–∏–∫—É.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –≤–∏–¥—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:

* –õ–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª *(file_loc)*

* –£–¥–∞–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª *(file_remote)*

* –§—Ä–∞–≥–º–µ–Ω—Ç —Ä–µ–ª–∏–∑–∞ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è *(github_release)*

## –ú–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ (IPC)

–î–ª—è IPC –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Ä–µ–∂–∏–º **service**. –í –¥–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ –ü–û –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É gRPC.

## –°–ø—Ä–∞–≤–∫–∞ –ü–û (```--help```)

```
RuGeolistsCreator - Software (service) in C++ for automatic assembly of geoip and geosite files for VPN server XRay / SingBox
Usage: ./rglc [OPTIONS] [SUBCOMMAND]

Options:
  -h,--help                   Print this help message and exit
  --about                     Display software information
  --init                      Initialize software by creating config and downloading all dependencies

Subcommands:
  service                     Settings for service mode
  show                        Display all extra sources from config files
  build                       Build geofiles with selected presets
  check                       Check access of all source's URLs from config
```

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤ —Ñ–∞–π–ª–µ [Conan](conanfile.txt).

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ —Å–∏—Å—Ç–µ–º—É –±–µ–∑ —É—á–∞—Å—Ç–∏—è conan:

* [libbgpdump](https://github.com/RIPE-NCC/bgpdump)
